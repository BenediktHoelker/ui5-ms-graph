<mvc:View controllerName="com.iot.ui5-ms-graph.controller.Authentication" 
	xmlns:mvc="sap.ui.core.mvc" 
	xmlns:unified="sap.ui.unified" 
	xmlns:core="sap.ui.core" displayBlock="true" 
	xmlns="sap.m">
	<Shell id="shell">
		<NavContainer id="navContainer">
			<pages>
				<Page id="calendarPage" title="Arbeitszeit">
					<headerContent>
						<Button text="Listenansicht" press="navToTable"/>
						<Button icon="sap-icon://person-placeholder" text="{= ${session>/userData} === undefined ? 'Login' : 'Logout ' + ${session>/userData/givenName}}" press="onSwitchSession"/>
					</headerContent>
					<content>
						<SinglePlanningCalendar id="PC1" title="My Calendar" startDateChange="onStartDateChange" headerDateSelect="onHeaderDateSelect" startDate="{session>/startDate}" appointmentSelect="handleAppointmentSelect" appointments="{path : '/'}">
							<views>
								<SinglePlanningCalendarWeekView key="WeekView" title="Week" />
								<SinglePlanningCalendarWorkWeekView key="WorkWeekView" title="Work Week" />
								<SinglePlanningCalendarDayView key="DayView" title="Day" />
							</views>
							<appointments>
								<CalendarAppointment startDate="{start}" endDate="{end}" icon="{pic}" title="{subject}" text="{location/displayName}" tentative="{tentative}">
								</CalendarAppointment>
							</appointments>
						</SinglePlanningCalendar>
					</content>
				</Page>
				<Page id="tablePage" title="Listenansicht" showNavButton="true" navButtonPress="navToCalendar">
					<content>
						<Table items="{path: '/'}">
							<columns>
								<Column>
									<Text text="Start" />
								</Column>
								<Column>
									<Text text="End" />
								</Column>
								<Column>
									<Text text="Title" />
								</Column>
								<Column>
									<Text text="Location" />
								</Column>
								<Column/>
								</columns>
								<items>
									<ColumnListItem>
										<cells>
											<Text text="{
											path: 'start',
											type: 'sap.ui.model.type.DateTime',
											formatOptions: {style: 'medium'}}"/>
											<Text text="{
											path: 'end',
											type: 'sap.ui.model.type.DateTime',
											formatOptions: {style: 'medium'}}"/>
											<Text text="{subject}" />
											<Text text="{location/displayName}" />
											<Button text="Edit" press="onEditPress"/>
											</cells>
										</ColumnListItem>
									</items>
								</Table>
							</content>
						</Page>
					</pages>
				</NavContainer>
			</Shell>
		</mvc:View>